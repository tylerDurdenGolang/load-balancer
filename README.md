# Динамический Оркестратор и Балансировщик Нагрузки

Этот проект представляет собой распределённую систему для динамического масштабирования CRUD-сервисов с использованием кеша (Redis) и прогнозирования нагрузки с помощью нейросети. Основная цель – продемонстрировать, как можно управлять масштабированием инстансов приложения в Kubernetes на основе реальных метрик и прогнозируемой нагрузки.

## О проекте

В рамках дипломного проекта реализуется:
- **CRUD-сервис**, предоставляющий API для работы с данными (например, карточками в ToDo приложении).
- **Кеширование** запросов с использованием Redis для повышения быстродействия.
- **Сбор метрик** с помощью Prometheus для мониторинга производительности сервисов.
- **Прогнозирование нагрузки** на основе собранных метрик с помощью нейросети, что позволяет принимать превентивные меры по масштабированию.
- **Сервис оркестрации**, который взаимодействует с Kubernetes API для динамического масштабирования количества инстансов приложения (Deployment) в зависимости от текущей и прогнозируемой нагрузки.

## Архитектура

Ниже представлена схема распределённой архитектуры приложения:

```mermaid
flowchart TD
    subgraph "Внешний мир"
      A["Клиент"] 
    end

    subgraph "Балансировка и входящий трафик"
      B["Load Balancer"]
    end

    subgraph "Приложение"
      C1["CRUD Service Instance 1"]
      C2["CRUD Service Instance 2"]
      C3["CRUD Service Instance 3"]
    end

    subgraph "Кеширование"
      D["Redis Cache"]
    end

    subgraph "Мониторинг и прогнозирование"
      E["Сбор Метрик - Prometheus"]
      F["Нейросеть для прогнозирования"]
      G["Сервис Оркестрации"]
    end

    subgraph "Кластер Kubernetes"
      H["Kubernetes API"]
      I["Ноды кластера"]
    end

    %% Потоки
    A -->|HTTP-запросы| B
    B -->|Распределяет трафик| C1
    B -->|Распределяет трафик| C2
    B -->|Распределяет трафик| C3

    C1 -->|Запросы кеша| D
    C2 -->|Запросы кеша| D
    C3 -->|Запросы кеша| D

    %% Сбор метрик
    C1 -->|Метрики - загрузка, задержки, ошибки| E
    C2 -->|Метрики - загрузка, задержки, ошибки| E
    C3 -->|Метрики - загрузка, задержки, ошибки| E

    %% Прогнозирование нагрузки
    E -->|Агрегированные метрики| G
    F -->|Прогноз нагрузки| G

    %% Оркестрация масштабирования
    G -->|Запросы на изменение реплик| H
    H -->|Управляет| I
    I -->|Запускает/останавливает| C1
    I -->|Запускает/останавливает| C2
    I -->|Запускает/останавливает| C3

